(function(f,l,E){"use strict";var _=f.document,v=f.Modernizr,S=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},r="Moz Webkit O Ms".split(" "),s=function(t){var e=_.documentElement.style,i;if(typeof e[t]=="string")return t;t=S(t);for(var o=0,a=r.length;o<a;o++)if(i=r[o]+t,typeof e[i]=="string")return i},h=s("transform"),c=s("transitionProperty"),u={csstransforms:function(){return!!h},csstransforms3d:function(){var t=!!s("perspective");if(t){var e=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),i="@media ("+e.join("transform-3d),(")+"modernizr)",o=l("<style>"+i+"{#modernizr{height:3px}}</style>").appendTo("head"),a=l('<div id="modernizr" />').appendTo("html");t=a.height()===3,a.remove(),o.remove()}return t},csstransitions:function(){return!!c}},C;if(v)for(C in u)v.hasOwnProperty(C)||v.addTest(C,u[C]);else{v=f.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var z=" ",A;for(C in u)A=u[C](),v[C]=A,z+=" "+(A?"":"no-")+C;l("html").addClass(z)}if(v.csstransforms){var p=v.csstransforms3d?{translate:function(t){return"translate3d("+t[0]+"px, "+t[1]+"px, 0) "},scale:function(t){return"scale3d("+t+", "+t+", 1) "}}:{translate:function(t){return"translate("+t[0]+"px, "+t[1]+"px) "},scale:function(t){return"scale("+t+") "}},R=function(t,e,i){var o=l.data(t,"isoTransform")||{},a={},g,m={},w;a[e]=i,l.extend(o,a);for(g in o)w=o[g],m[g]=p[g](w);var x=m.translate||"",T=m.scale||"",B=x+T;l.data(t,"isoTransform",o),t.style[h]=B};l.cssNumber.scale=!0,l.cssHooks.scale={set:function(t,e){R(t,"scale",e)},get:function(t,e){var i=l.data(t,"isoTransform");return i&&i.scale?i.scale:1}},l.fx.step.scale=function(t){l.cssHooks.scale.set(t.elem,t.now+t.unit)},l.cssNumber.translate=!0,l.cssHooks.translate={set:function(t,e){R(t,"translate",e)},get:function(t,e){var i=l.data(t,"isoTransform");return i&&i.translate?i.translate:[0,0]}}}var L,W;v.csstransitions&&(L={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[c],W=s("transitionDuration"));var O=l.event,M=l.event.handle?"handle":"dispatch",y;O.special.smartresize={setup:function(){l(this).bind("resize",O.special.smartresize.handler)},teardown:function(){l(this).unbind("resize",O.special.smartresize.handler)},handler:function(t,e){var i=this,o=arguments;t.type="smartresize",y&&clearTimeout(y),y=setTimeout(function(){O[M].apply(i,o)},e==="execAsap"?0:100)}},l.fn.smartresize=function(t){return t?this.bind("smartresize",t):this.trigger("smartresize",["execAsap"])},l.Isotope=function(t,e,i){this.element=l(e),this._create(t),this._init(i)};var P=["width","height"],d=l(f);l.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},l.Isotope.prototype={_create:function(t){this.options=l.extend({},l.Isotope.settings,t),this.styleQueue=[],this.elemCount=0;var e=this.element[0].style;this.originalStyle={};var i=P.slice(0);for(var o in this.options.containerStyle)i.push(o);for(var a=0,g=i.length;a<g;a++)o=i[a],this.originalStyle[o]=e[o]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var m={"original-order":function(x,T){return T.elemCount++,T.elemCount},random:function(){return Math.random()}};this.options.getSortData=l.extend(this.options.getSortData,m),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var w=this;setTimeout(function(){w.element.addClass(w.options.containerClass)},0),this.options.resizable&&d.bind("smartresize.isotope",function(){w.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(t){var e=this.options.itemSelector,i=e?t.filter(e).add(t.find(e)):t,o={position:"absolute"};return i=i.filter(function(a,g){return g.nodeType===1}),this.usingTransforms&&(o.left=0,o.top=0),i.css(o).addClass(this.options.itemClass),this.updateSortData(i,!0),i},_init:function(t){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(t)},option:function(t){if(l.isPlainObject(t)){this.options=l.extend(!0,this.options,t);var e;for(var i in t)e="_update"+S(i),this[e]&&this[e]()}},_updateAnimationEngine:function(){var t=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),e;switch(t){case"css":case"none":e=!1;break;case"jquery":e=!0;break;default:e=!v.csstransitions}this.isUsingJQueryAnimation=e,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var t=this.usingTransforms=this.options.transformsEnabled&&v.csstransforms&&v.csstransitions&&!this.isUsingJQueryAnimation;t||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=t?this._translate:this._positionAbs},_filter:function(t){var e=this.options.filter===""?"*":this.options.filter;if(!e)return t;var i=this.options.hiddenClass,o="."+i,a=t.filter(o),g=a;if(e!=="*"){g=a.filter(e);var m=t.not(o).not(e).addClass(i);this.styleQueue.push({$el:m,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:g,style:this.options.visibleStyle}),g.removeClass(i),t.filter(e)},updateSortData:function(t,e){var i=this,o=this.options.getSortData,a,g;t.each(function(){a=l(this),g={};for(var m in o)!e&&m==="original-order"?g[m]=l.data(this,"isotope-sort-data")[m]:g[m]=o[m](a,i);l.data(this,"isotope-sort-data",g)})},_sort:function(){var t=this.options.sortBy,e=this._getSorter,i=this.options.sortAscending?1:-1,o=function(a,g){var m=e(a,t),w=e(g,t);return m===w&&t!=="original-order"&&(m=e(a,"original-order"),w=e(g,"original-order")),(m>w?1:m<w?-1:0)*i};this.$filteredAtoms.sort(o)},_getSorter:function(t,e){return l.data(t,"isotope-sort-data")[e]},_translate:function(t,e){return{translate:[t,e]}},_positionAbs:function(t,e){return{left:t,top:e}},_pushPosition:function(t,e,i){e=Math.round(e+this.offset.left),i=Math.round(i+this.offset.top);var o=this.getPositionStyles(e,i);this.styleQueue.push({$el:t,style:o}),this.options.itemPositionDataEnabled&&t.data("isotope-item-position",{x:e,y:i})},layout:function(t,e){var i=this.options.layoutMode;if(this["_"+i+"Layout"](t),this.options.resizesContainer){var o=this["_"+i+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:o})}this._processStyleQueue(t,e),this.isLaidOut=!0},_processStyleQueue:function(t,e){var i=this.isLaidOut&&this.isUsingJQueryAnimation?"animate":"css",o=this.options.animationOptions,a=this.options.onLayout,g,m,w,x;if(m=function(H,I){I.$el[i](I.style,o)},this._isInserting&&this.isUsingJQueryAnimation)m=function(H,I){g=I.$el.hasClass("no-transition")?"css":i,I.$el[g](I.style,o)};else if(e||a||o.complete){var T=!1,B=[e,a,o.complete],b=this;if(w=!0,x=function(){if(!T){for(var H,I=0,Y=B.length;I<Y;I++)H=B[I],typeof H=="function"&&H.call(b.element,t,b);T=!0}},this.isUsingJQueryAnimation&&i==="animate")o.complete=x,w=!1;else if(v.csstransitions){for(var Q=0,D=this.styleQueue[0],j=D&&D.$el,k;!j||!j.length;){if(k=this.styleQueue[Q++],!k)return;j=k.$el}var N=parseFloat(getComputedStyle(j[0])[W]);N>0&&(m=function(H,I){I.$el[i](I.style,o).one(L,x)},w=!1)}}l.each(this.styleQueue,m),w&&x(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(t){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,t)},addItems:function(t,e){var i=this._getAtoms(t);this.$allAtoms=this.$allAtoms.add(i),e&&e(i)},insert:function(t,e){this.element.append(t);var i=this;this.addItems(t,function(o){var a=i._filter(o);i._addHideAppended(a),i._sort(),i.reLayout(),i._revealAppended(a,e)})},appended:function(t,e){var i=this;this.addItems(t,function(o){i._addHideAppended(o),i.layout(o),i._revealAppended(o,e)})},_addHideAppended:function(t){this.$filteredAtoms=this.$filteredAtoms.add(t),t.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:t,style:this.options.hiddenStyle})},_revealAppended:function(t,e){var i=this;setTimeout(function(){t.removeClass("no-transition"),i.styleQueue.push({$el:t,style:i.options.visibleStyle}),i._isInserting=!1,i._processStyleQueue(t,e)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(t,e){this.$allAtoms=this.$allAtoms.not(t),this.$filteredAtoms=this.$filteredAtoms.not(t);var i=this,o=function(){t.remove(),e&&e.call(i.element)};t.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:t,style:this.options.hiddenStyle}),this._sort(),this.reLayout(o)):o()},shuffle:function(t){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(t)},destroy:function(){var t=this.usingTransforms,e=this.options;this.$allAtoms.removeClass(e.hiddenClass+" "+e.itemClass).each(function(){var a=this.style;a.position="",a.top="",a.left="",a.opacity="",t&&(a[h]="")});var i=this.element[0].style;for(var o in this.originalStyle)i[o]=this.originalStyle[o];this.element.unbind(".isotope").undelegate("."+e.hiddenClass,"click").removeClass(e.containerClass).removeData("isotope"),d.unbind(".isotope")},_getSegments:function(t){var e=this.options.layoutMode,i=t?"rowHeight":"columnWidth",o=t?"height":"width",a=t?"rows":"cols",g=this.element[o](),m,w=this.options[e]&&this.options[e][i]||this.$filteredAtoms["outer"+S(o)](!0)||g;m=Math.floor(g/w),m=Math.max(m,1),this[e][a]=m,this[e][i]=w},_checkIfSegmentsChanged:function(t){var e=this.options.layoutMode,i=t?"rows":"cols",o=this[e][i];return this._getSegments(t),this[e][i]!==o},_masonryReset:function(){this.masonry={},this._getSegments();var t=this.masonry.cols;for(this.masonry.colYs=[];t--;)this.masonry.colYs.push(0)},_masonryLayout:function(t){var e=this,i=e.masonry;t.each(function(){var o=l(this),a=Math.ceil(o.outerWidth(!0)/i.columnWidth);if(a=Math.min(a,i.cols),a===1)e._masonryPlaceBrick(o,i.colYs);else{var g=i.cols+1-a,m=[],w,x;for(x=0;x<g;x++)w=i.colYs.slice(x,x+a),m[x]=Math.max.apply(Math,w);e._masonryPlaceBrick(o,m)}})},_masonryPlaceBrick:function(t,e){for(var i=Math.min.apply(Math,e),o=0,a=0,g=e.length;a<g;a++)if(e[a]===i){o=a;break}var m=this.masonry.columnWidth*o,w=i;this._pushPosition(t,m,w);var x=i+t.outerHeight(!0),T=this.masonry.cols+1-g;for(a=0;a<T;a++)this.masonry.colYs[o+a]=x},_masonryGetContainerSize:function(){var t=Math.max.apply(Math,this.masonry.colYs);return{height:t}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(t){var e=this,i=this.element.width(),o=this.fitRows;t.each(function(){var a=l(this),g=a.outerWidth(!0),m=a.outerHeight(!0);o.x!==0&&g+o.x>i&&(o.x=0,o.y=o.height),e._pushPosition(a,o.x,o.y),o.height=Math.max(o.y+m,o.height),o.x+=g})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(t){var e=this,i=this.cellsByRow;t.each(function(){var o=l(this),a=i.index%i.cols,g=Math.floor(i.index/i.cols),m=(a+.5)*i.columnWidth-o.outerWidth(!0)/2,w=(g+.5)*i.rowHeight-o.outerHeight(!0)/2;e._pushPosition(o,m,w),i.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(t){var e=this;t.each(function(i){var o=l(this);e._pushPosition(o,0,e.straightDown.y),e.straightDown.y+=o.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var t=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];t--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(t){var e=this,i=e.masonryHorizontal;t.each(function(){var o=l(this),a=Math.ceil(o.outerHeight(!0)/i.rowHeight);if(a=Math.min(a,i.rows),a===1)e._masonryHorizontalPlaceBrick(o,i.rowXs);else{var g=i.rows+1-a,m=[],w,x;for(x=0;x<g;x++)w=i.rowXs.slice(x,x+a),m[x]=Math.max.apply(Math,w);e._masonryHorizontalPlaceBrick(o,m)}})},_masonryHorizontalPlaceBrick:function(t,e){for(var i=Math.min.apply(Math,e),o=0,a=0,g=e.length;a<g;a++)if(e[a]===i){o=a;break}var m=i,w=this.masonryHorizontal.rowHeight*o;this._pushPosition(t,m,w);var x=i+t.outerWidth(!0),T=this.masonryHorizontal.rows+1-g;for(a=0;a<T;a++)this.masonryHorizontal.rowXs[o+a]=x},_masonryHorizontalGetContainerSize:function(){var t=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:t}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(t){var e=this,i=this.element.height(),o=this.fitColumns;t.each(function(){var a=l(this),g=a.outerWidth(!0),m=a.outerHeight(!0);o.y!==0&&m+o.y>i&&(o.x=o.width,o.y=0),e._pushPosition(a,o.x,o.y),o.width=Math.max(o.x+g,o.width),o.y+=m})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(t){var e=this,i=this.cellsByColumn;t.each(function(){var o=l(this),a=Math.floor(i.index/i.rows),g=i.index%i.rows,m=(a+.5)*i.columnWidth-o.outerWidth(!0)/2,w=(g+.5)*i.rowHeight-o.outerHeight(!0)/2;e._pushPosition(o,m,w),i.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(t){var e=this;t.each(function(i){var o=l(this);e._pushPosition(o,e.straightAcross.x,0),e.straightAcross.x+=o.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},l.fn.imagesLoaded=function(t){function e(){t.call(o,a)}function i(x){var T=x.target;T.src!==m&&l.inArray(T,w)===-1&&(w.push(T),--g<=0&&(setTimeout(e),a.unbind(".imagesLoaded",i)))}var o=this,a=o.find("img").add(o.filter("img")),g=a.length,m="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",w=[];return g||e(),a.bind("load.imagesLoaded error.imagesLoaded",i).each(function(){var x=this.src;this.src=m,this.src=x}),o};var n=function(t){f.console&&f.console.error(t)};l.fn.isotope=function(t,e){if(typeof t=="string"){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var o=l.data(this,"isotope");if(!o){n("cannot call methods on isotope prior to initialization; attempted to call method '"+t+"'");return}if(!l.isFunction(o[t])||t.charAt(0)==="_"){n("no such method '"+t+"' for isotope instance");return}o[t].apply(o,i)})}else this.each(function(){var o=l.data(this,"isotope");o?(o.option(t),o._init(e)):l.data(this,"isotope",new l.Isotope(t,this,e))});return this}})(window,jQuery),jQuery.Isotope.prototype._getMasonryGutterColumns=function(){var f=this.options.masonry&&this.options.masonry.gutterWidth||0;containerWidth=this.element.width(),this.masonry.columnWidth=this.options.masonry&&this.options.masonry.columnWidth||this.$filteredAtoms.outerWidth(!0)||containerWidth,this.masonry.columnWidth+=f,this.masonry.cols=Math.floor((containerWidth+f)/this.masonry.columnWidth),this.masonry.cols=Math.max(this.masonry.cols,1)},jQuery.Isotope.prototype._masonryReset=function(){this.masonry={},this._getMasonryGutterColumns();var f=this.masonry.cols;for(this.masonry.colYs=[];f--;)this.masonry.colYs.push(0)},jQuery.Isotope.prototype._masonryResizeChanged=function(){var f=this.masonry.cols;return this._getMasonryGutterColumns(),this.masonry.cols!==f};/*!
 * Masonry PACKAGED v3.1.5
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */(function(f){function l(){}function E(v){function S(h){h.prototype.option||(h.prototype.option=function(c){v.isPlainObject(c)&&(this.options=v.extend(!0,this.options,c))})}function r(h,c){v.fn[h]=function(u){if(typeof u=="string"){for(var C=_.call(arguments,1),z=0,A=this.length;A>z;z++){var p=this[z],R=v.data(p,h);if(R)if(v.isFunction(R[u])&&u.charAt(0)!=="_"){var L=R[u].apply(R,C);if(L!==void 0)return L}else s("no such method '"+u+"' for "+h+" instance");else s("cannot call methods on "+h+" prior to initialization; attempted to call '"+u+"'")}return this}return this.each(function(){var W=v.data(this,h);W?(W.option(u),W._init()):(W=new c(this,u),v.data(this,h,W))})}}if(v){var s=typeof console=="undefined"?l:function(h){console.error(h)};return v.bridget=function(h,c){S(c),r(h,c)},v.bridget}}var _=Array.prototype.slice;typeof define=="function"&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],E):E(f.jQuery)})(window),function(f){function l(r){var s=f.event;return s.target=s.target||s.srcElement||r,s}var E=document.documentElement,_=function(){};E.addEventListener?_=function(r,s,h){r.addEventListener(s,h,!1)}:E.attachEvent&&(_=function(r,s,h){r[s+h]=h.handleEvent?function(){var c=l(r);h.handleEvent.call(h,c)}:function(){var c=l(r);h.call(r,c)},r.attachEvent("on"+s,r[s+h])});var v=function(){};E.removeEventListener?v=function(r,s,h){r.removeEventListener(s,h,!1)}:E.detachEvent&&(v=function(r,s,h){r.detachEvent("on"+s,r[s+h]);try{delete r[s+h]}catch(c){r[s+h]=void 0}});var S={bind:_,unbind:v};typeof define=="function"&&define.amd?define("eventie/eventie",S):typeof exports=="object"?module.exports=S:f.eventie=S}(this),function(f){function l(r){typeof r=="function"&&(l.isReady?r():S.push(r))}function E(r){var s=r.type==="readystatechange"&&v.readyState!=="complete";if(!l.isReady&&!s){l.isReady=!0;for(var h=0,c=S.length;c>h;h++){var u=S[h];u()}}}function _(r){return r.bind(v,"DOMContentLoaded",E),r.bind(v,"readystatechange",E),r.bind(f,"load",E),l}var v=f.document,S=[];l.isReady=!1,typeof define=="function"&&define.amd?(l.isReady=typeof requirejs=="function",define("doc-ready/doc-ready",["eventie/eventie"],_)):f.docReady=_(f.eventie)}(this),function(){function f(){}function l(r,s){for(var h=r.length;h--;)if(r[h].listener===s)return h;return-1}function E(r){return function(){return this[r].apply(this,arguments)}}var _=f.prototype,v=this,S=v.EventEmitter;_.getListeners=function(r){var s,h,c=this._getEvents();if(r instanceof RegExp){s={};for(h in c)c.hasOwnProperty(h)&&r.test(h)&&(s[h]=c[h])}else s=c[r]||(c[r]=[]);return s},_.flattenListeners=function(r){var s,h=[];for(s=0;s<r.length;s+=1)h.push(r[s].listener);return h},_.getListenersAsObject=function(r){var s,h=this.getListeners(r);return h instanceof Array&&(s={},s[r]=h),s||h},_.addListener=function(r,s){var h,c=this.getListenersAsObject(r),u=typeof s=="object";for(h in c)c.hasOwnProperty(h)&&l(c[h],s)===-1&&c[h].push(u?s:{listener:s,once:!1});return this},_.on=E("addListener"),_.addOnceListener=function(r,s){return this.addListener(r,{listener:s,once:!0})},_.once=E("addOnceListener"),_.defineEvent=function(r){return this.getListeners(r),this},_.defineEvents=function(r){for(var s=0;s<r.length;s+=1)this.defineEvent(r[s]);return this},_.removeListener=function(r,s){var h,c,u=this.getListenersAsObject(r);for(c in u)u.hasOwnProperty(c)&&(h=l(u[c],s),h!==-1&&u[c].splice(h,1));return this},_.off=E("removeListener"),_.addListeners=function(r,s){return this.manipulateListeners(!1,r,s)},_.removeListeners=function(r,s){return this.manipulateListeners(!0,r,s)},_.manipulateListeners=function(r,s,h){var c,u,C=r?this.removeListener:this.addListener,z=r?this.removeListeners:this.addListeners;if(typeof s!="object"||s instanceof RegExp)for(c=h.length;c--;)C.call(this,s,h[c]);else for(c in s)s.hasOwnProperty(c)&&(u=s[c])&&(typeof u=="function"?C.call(this,c,u):z.call(this,c,u));return this},_.removeEvent=function(r){var s,h=typeof r,c=this._getEvents();if(h==="string")delete c[r];else if(r instanceof RegExp)for(s in c)c.hasOwnProperty(s)&&r.test(s)&&delete c[s];else delete this._events;return this},_.removeAllListeners=E("removeEvent"),_.emitEvent=function(r,s){var h,c,u,C,z=this.getListenersAsObject(r);for(u in z)if(z.hasOwnProperty(u))for(c=z[u].length;c--;)h=z[u][c],h.once===!0&&this.removeListener(r,h.listener),C=h.listener.apply(this,s||[]),C===this._getOnceReturnValue()&&this.removeListener(r,h.listener);return this},_.trigger=E("emitEvent"),_.emit=function(r){var s=Array.prototype.slice.call(arguments,1);return this.emitEvent(r,s)},_.setOnceReturnValue=function(r){return this._onceReturnValue=r,this},_._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},_._getEvents=function(){return this._events||(this._events={})},f.noConflict=function(){return v.EventEmitter=S,f},typeof define=="function"&&define.amd?define("eventEmitter/EventEmitter",[],function(){return f}):typeof module=="object"&&module.exports?module.exports=f:this.EventEmitter=f}.call(this),function(f){function l(v){if(v){if(typeof _[v]=="string")return v;v=v.charAt(0).toUpperCase()+v.slice(1);for(var S,r=0,s=E.length;s>r;r++)if(S=E[r]+v,typeof _[S]=="string")return S}}var E="Webkit Moz ms Ms O".split(" "),_=document.documentElement.style;typeof define=="function"&&define.amd?define("get-style-property/get-style-property",[],function(){return l}):typeof exports=="object"?module.exports=l:f.getStyleProperty=l}(window),function(f){function l(s){var h=parseFloat(s),c=s.indexOf("%")===-1&&!isNaN(h);return c&&h}function E(){for(var s={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},h=0,c=r.length;c>h;h++){var u=r[h];s[u]=0}return s}function _(s){function h(z){if(typeof z=="string"&&(z=document.querySelector(z)),z&&typeof z=="object"&&z.nodeType){var A=S(z);if(A.display==="none")return E();var p={};p.width=z.offsetWidth,p.height=z.offsetHeight;for(var R=p.isBorderBox=!(!C||!A[C]||A[C]!=="border-box"),L=0,W=r.length;W>L;L++){var O=r[L],M=A[O];M=c(z,M);var y=parseFloat(M);p[O]=isNaN(y)?0:y}var P=p.paddingLeft+p.paddingRight,d=p.paddingTop+p.paddingBottom,n=p.marginLeft+p.marginRight,t=p.marginTop+p.marginBottom,e=p.borderLeftWidth+p.borderRightWidth,i=p.borderTopWidth+p.borderBottomWidth,o=R&&u,a=l(A.width);a!==!1&&(p.width=a+(o?0:P+e));var g=l(A.height);return g!==!1&&(p.height=g+(o?0:d+i)),p.innerWidth=p.width-(P+e),p.innerHeight=p.height-(d+i),p.outerWidth=p.width+n,p.outerHeight=p.height+t,p}}function c(z,A){if(v||A.indexOf("%")===-1)return A;var p=z.style,R=p.left,L=z.runtimeStyle,W=L&&L.left;return W&&(L.left=z.currentStyle.left),p.left=A,A=p.pixelLeft,p.left=R,W&&(L.left=W),A}var u,C=s("boxSizing");return function(){if(C){var z=document.createElement("div");z.style.width="200px",z.style.padding="1px 2px 3px 4px",z.style.borderStyle="solid",z.style.borderWidth="1px 2px 3px 4px",z.style[C]="border-box";var A=document.body||document.documentElement;A.appendChild(z);var p=S(z);u=l(p.width)===200,A.removeChild(z)}}(),h}var v=f.getComputedStyle,S=v?function(s){return v(s,null)}:function(s){return s.currentStyle},r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];typeof define=="function"&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],_):typeof exports=="object"?module.exports=_(require("get-style-property")):f.getSize=_(f.getStyleProperty)}(window),function(f,l){function E(u,C){return u[s](C)}function _(u){if(!u.parentNode){var C=document.createDocumentFragment();C.appendChild(u)}}function v(u,C){_(u);for(var z=u.parentNode.querySelectorAll(C),A=0,p=z.length;p>A;A++)if(z[A]===u)return!0;return!1}function S(u,C){return _(u),E(u,C)}var r,s=function(){if(l.matchesSelector)return"matchesSelector";for(var u=["webkit","moz","ms","o"],C=0,z=u.length;z>C;C++){var A=u[C],p=A+"MatchesSelector";if(l[p])return p}}();if(s){var h=document.createElement("div"),c=E(h,"div");r=c?E:S}else r=v;typeof define=="function"&&define.amd?define("matches-selector/matches-selector",[],function(){return r}):window.matchesSelector=r}(this,Element.prototype),function(f){function l(s,h){for(var c in h)s[c]=h[c];return s}function E(s){for(var h in s)return!1;return h=null,!0}function _(s){return s.replace(/([A-Z])/g,function(h){return"-"+h.toLowerCase()})}function v(s,h,c){function u(d,n){d&&(this.element=d,this.layout=n,this.position={x:0,y:0},this._create())}var C=c("transition"),z=c("transform"),A=C&&z,p=!!c("perspective"),R={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[C],L=["transform","transition","transitionDuration","transitionProperty"],W=function(){for(var d={},n=0,t=L.length;t>n;n++){var e=L[n],i=c(e);i&&i!==e&&(d[e]=i)}return d}();l(u.prototype,s.prototype),u.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.prototype.handleEvent=function(d){var n="on"+d.type;this[n]&&this[n](d)},u.prototype.getSize=function(){this.size=h(this.element)},u.prototype.css=function(d){var n=this.element.style;for(var t in d){var e=W[t]||t;n[e]=d[t]}},u.prototype.getPosition=function(){var d=r(this.element),n=this.layout.options,t=n.isOriginLeft,e=n.isOriginTop,i=parseInt(d[t?"left":"right"],10),o=parseInt(d[e?"top":"bottom"],10);i=isNaN(i)?0:i,o=isNaN(o)?0:o;var a=this.layout.size;i-=t?a.paddingLeft:a.paddingRight,o-=e?a.paddingTop:a.paddingBottom,this.position.x=i,this.position.y=o},u.prototype.layoutPosition=function(){var d=this.layout.size,n=this.layout.options,t={};n.isOriginLeft?(t.left=this.position.x+d.paddingLeft+"px",t.right=""):(t.right=this.position.x+d.paddingRight+"px",t.left=""),n.isOriginTop?(t.top=this.position.y+d.paddingTop+"px",t.bottom=""):(t.bottom=this.position.y+d.paddingBottom+"px",t.top=""),this.css(t),this.emitEvent("layout",[this])};var O=p?function(d,n){return"translate3d("+d+"px, "+n+"px, 0)"}:function(d,n){return"translate("+d+"px, "+n+"px)"};u.prototype._transitionTo=function(d,n){this.getPosition();var t=this.position.x,e=this.position.y,i=parseInt(d,10),o=parseInt(n,10),a=i===this.position.x&&o===this.position.y;if(this.setPosition(d,n),a&&!this.isTransitioning)return void this.layoutPosition();var g=d-t,m=n-e,w={},x=this.layout.options;g=x.isOriginLeft?g:-g,m=x.isOriginTop?m:-m,w.transform=O(g,m),this.transition({to:w,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},u.prototype.goTo=function(d,n){this.setPosition(d,n),this.layoutPosition()},u.prototype.moveTo=A?u.prototype._transitionTo:u.prototype.goTo,u.prototype.setPosition=function(d,n){this.position.x=parseInt(d,10),this.position.y=parseInt(n,10)},u.prototype._nonTransition=function(d){this.css(d.to),d.isCleaning&&this._removeStyles(d.to);for(var n in d.onTransitionEnd)d.onTransitionEnd[n].call(this)},u.prototype._transition=function(d){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(d);var n=this._transn;for(var t in d.onTransitionEnd)n.onEnd[t]=d.onTransitionEnd[t];for(t in d.to)n.ingProperties[t]=!0,d.isCleaning&&(n.clean[t]=!0);if(d.from){this.css(d.from);var e=this.element.offsetHeight;e=null}this.enableTransition(d.to),this.css(d.to),this.isTransitioning=!0};var M=z&&_(z)+",opacity";u.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:M,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(R,this,!1))},u.prototype.transition=u.prototype[C?"_transition":"_nonTransition"],u.prototype.onwebkitTransitionEnd=function(d){this.ontransitionend(d)},u.prototype.onotransitionend=function(d){this.ontransitionend(d)};var y={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};u.prototype.ontransitionend=function(d){if(d.target===this.element){var n=this._transn,t=y[d.propertyName]||d.propertyName;if(delete n.ingProperties[t],E(n.ingProperties)&&this.disableTransition(),t in n.clean&&(this.element.style[d.propertyName]="",delete n.clean[t]),t in n.onEnd){var e=n.onEnd[t];e.call(this),delete n.onEnd[t]}this.emitEvent("transitionEnd",[this])}},u.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(R,this,!1),this.isTransitioning=!1},u.prototype._removeStyles=function(d){var n={};for(var t in d)n[t]="";this.css(n)};var P={transitionProperty:"",transitionDuration:""};return u.prototype.removeTransitionStyles=function(){this.css(P)},u.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},u.prototype.remove=function(){if(!C||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var d=this;this.on("transitionEnd",function(){return d.removeElem(),!0}),this.hide()},u.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var d=this.layout.options;this.transition({from:d.hiddenStyle,to:d.visibleStyle,isCleaning:!0})},u.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var d=this.layout.options;this.transition({from:d.visibleStyle,to:d.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},u.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},u}var S=f.getComputedStyle,r=S?function(s){return S(s,null)}:function(s){return s.currentStyle};typeof define=="function"&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],v):(f.Outlayer={},f.Outlayer.Item=v(f.EventEmitter,f.getSize,f.getStyleProperty))}(window),function(f){function l(p,R){for(var L in R)p[L]=R[L];return p}function E(p){return C.call(p)==="[object Array]"}function _(p){var R=[];if(E(p))R=p;else if(p&&typeof p.length=="number")for(var L=0,W=p.length;W>L;L++)R.push(p[L]);else R.push(p);return R}function v(p,R){var L=A(R,p);L!==-1&&R.splice(L,1)}function S(p){return p.replace(/(.)([A-Z])/g,function(R,L,W){return L+"-"+W}).toLowerCase()}function r(p,R,L,W,O,M){function y(n,t){if(typeof n=="string"&&(n=s.querySelector(n)),!n||!z(n))return void(h&&h.error("Bad "+this.constructor.namespace+" element: "+n));this.element=n,this.options=l({},this.constructor.defaults),this.option(t);var e=++P;this.element.outlayerGUID=e,d[e]=this,this._create(),this.options.isInitLayout&&this.layout()}var P=0,d={};return y.namespace="outlayer",y.Item=M,y.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},l(y.prototype,L.prototype),y.prototype.option=function(n){l(this.options,n)},y.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),l(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},y.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},y.prototype._itemize=function(n){for(var t=this._filterFindItemElements(n),e=this.constructor.Item,i=[],o=0,a=t.length;a>o;o++){var g=t[o],m=new e(g,this);i.push(m)}return i},y.prototype._filterFindItemElements=function(n){n=_(n);for(var t=this.options.itemSelector,e=[],i=0,o=n.length;o>i;i++){var a=n[i];if(z(a))if(t){O(a,t)&&e.push(a);for(var g=a.querySelectorAll(t),m=0,w=g.length;w>m;m++)e.push(g[m])}else e.push(a)}return e},y.prototype.getItemElements=function(){for(var n=[],t=0,e=this.items.length;e>t;t++)n.push(this.items[t].element);return n},y.prototype.layout=function(){this._resetLayout(),this._manageStamps();var n=this.options.isLayoutInstant!==void 0?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,n),this._isLayoutInited=!0},y.prototype._init=y.prototype.layout,y.prototype._resetLayout=function(){this.getSize()},y.prototype.getSize=function(){this.size=W(this.element)},y.prototype._getMeasurement=function(n,t){var e,i=this.options[n];i?(typeof i=="string"?e=this.element.querySelector(i):z(i)&&(e=i),this[n]=e?W(e)[t]:i):this[n]=0},y.prototype.layoutItems=function(n,t){n=this._getItemsForLayout(n),this._layoutItems(n,t),this._postLayout()},y.prototype._getItemsForLayout=function(n){for(var t=[],e=0,i=n.length;i>e;e++){var o=n[e];o.isIgnored||t.push(o)}return t},y.prototype._layoutItems=function(n,t){function e(){i.emitEvent("layoutComplete",[i,n])}var i=this;if(!n||!n.length)return void e();this._itemsOn(n,"layout",e);for(var o=[],a=0,g=n.length;g>a;a++){var m=n[a],w=this._getItemLayoutPosition(m);w.item=m,w.isInstant=t||m.isLayoutInstant,o.push(w)}this._processLayoutQueue(o)},y.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},y.prototype._processLayoutQueue=function(n){for(var t=0,e=n.length;e>t;t++){var i=n[t];this._positionItem(i.item,i.x,i.y,i.isInstant)}},y.prototype._positionItem=function(n,t,e,i){i?n.goTo(t,e):n.moveTo(t,e)},y.prototype._postLayout=function(){this.resizeContainer()},y.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var n=this._getContainerSize();n&&(this._setContainerMeasure(n.width,!0),this._setContainerMeasure(n.height,!1))}},y.prototype._getContainerSize=u,y.prototype._setContainerMeasure=function(n,t){if(n!==void 0){var e=this.size;e.isBorderBox&&(n+=t?e.paddingLeft+e.paddingRight+e.borderLeftWidth+e.borderRightWidth:e.paddingBottom+e.paddingTop+e.borderTopWidth+e.borderBottomWidth),n=Math.max(n,0),this.element.style[t?"width":"height"]=n+"px"}},y.prototype._itemsOn=function(n,t,e){function i(){return o++,o===a&&e.call(g),!0}for(var o=0,a=n.length,g=this,m=0,w=n.length;w>m;m++){var x=n[m];x.on(t,i)}},y.prototype.ignore=function(n){var t=this.getItem(n);t&&(t.isIgnored=!0)},y.prototype.unignore=function(n){var t=this.getItem(n);t&&delete t.isIgnored},y.prototype.stamp=function(n){if(n=this._find(n)){this.stamps=this.stamps.concat(n);for(var t=0,e=n.length;e>t;t++){var i=n[t];this.ignore(i)}}},y.prototype.unstamp=function(n){if(n=this._find(n))for(var t=0,e=n.length;e>t;t++){var i=n[t];v(i,this.stamps),this.unignore(i)}},y.prototype._find=function(n){return n?(typeof n=="string"&&(n=this.element.querySelectorAll(n)),n=_(n)):void 0},y.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var n=0,t=this.stamps.length;t>n;n++){var e=this.stamps[n];this._manageStamp(e)}}},y.prototype._getBoundingRect=function(){var n=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:n.left+t.paddingLeft+t.borderLeftWidth,top:n.top+t.paddingTop+t.borderTopWidth,right:n.right-(t.paddingRight+t.borderRightWidth),bottom:n.bottom-(t.paddingBottom+t.borderBottomWidth)}},y.prototype._manageStamp=u,y.prototype._getElementOffset=function(n){var t=n.getBoundingClientRect(),e=this._boundingRect,i=W(n),o={left:t.left-e.left-i.marginLeft,top:t.top-e.top-i.marginTop,right:e.right-t.right-i.marginRight,bottom:e.bottom-t.bottom-i.marginBottom};return o},y.prototype.handleEvent=function(n){var t="on"+n.type;this[t]&&this[t](n)},y.prototype.bindResize=function(){this.isResizeBound||(p.bind(f,"resize",this),this.isResizeBound=!0)},y.prototype.unbindResize=function(){this.isResizeBound&&p.unbind(f,"resize",this),this.isResizeBound=!1},y.prototype.onresize=function(){function n(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(n,100)},y.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},y.prototype.needsResizeLayout=function(){var n=W(this.element),t=this.size&&n;return t&&n.innerWidth!==this.size.innerWidth},y.prototype.addItems=function(n){var t=this._itemize(n);return t.length&&(this.items=this.items.concat(t)),t},y.prototype.appended=function(n){var t=this.addItems(n);t.length&&(this.layoutItems(t,!0),this.reveal(t))},y.prototype.prepended=function(n){var t=this._itemize(n);if(t.length){var e=this.items.slice(0);this.items=t.concat(e),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(e)}},y.prototype.reveal=function(n){var t=n&&n.length;if(t)for(var e=0;t>e;e++){var i=n[e];i.reveal()}},y.prototype.hide=function(n){var t=n&&n.length;if(t)for(var e=0;t>e;e++){var i=n[e];i.hide()}},y.prototype.getItem=function(n){for(var t=0,e=this.items.length;e>t;t++){var i=this.items[t];if(i.element===n)return i}},y.prototype.getItems=function(n){if(n&&n.length){for(var t=[],e=0,i=n.length;i>e;e++){var o=n[e],a=this.getItem(o);a&&t.push(a)}return t}},y.prototype.remove=function(n){n=_(n);var t=this.getItems(n);if(t&&t.length){this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var e=0,i=t.length;i>e;e++){var o=t[e];o.remove(),v(o,this.items)}}},y.prototype.destroy=function(){var n=this.element.style;n.height="",n.position="",n.width="";for(var t=0,e=this.items.length;e>t;t++){var i=this.items[t];i.destroy()}this.unbindResize(),delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},y.data=function(n){var t=n&&n.outlayerGUID;return t&&d[t]},y.create=function(n,t){function e(){y.apply(this,arguments)}return Object.create?e.prototype=Object.create(y.prototype):l(e.prototype,y.prototype),e.prototype.constructor=e,e.defaults=l({},y.defaults),l(e.defaults,t),e.prototype.settings={},e.namespace=n,e.data=y.data,e.Item=function(){M.apply(this,arguments)},e.Item.prototype=new M,R(function(){for(var i=S(n),o=s.querySelectorAll(".js-"+i),a="data-"+i+"-options",g=0,m=o.length;m>g;g++){var w,x=o[g],T=x.getAttribute(a);try{w=T&&JSON.parse(T)}catch(b){h&&h.error("Error parsing "+a+" on "+x.nodeName.toLowerCase()+(x.id?"#"+x.id:"")+": "+b);continue}var B=new e(x,w);c&&c.data(x,n,B)}}),c&&c.bridget&&c.bridget(n,e),e},y.Item=M,y}var s=f.document,h=f.console,c=f.jQuery,u=function(){},C=Object.prototype.toString,z=typeof HTMLElement=="object"?function(p){return p instanceof HTMLElement}:function(p){return p&&typeof p=="object"&&p.nodeType===1&&typeof p.nodeName=="string"},A=Array.prototype.indexOf?function(p,R){return p.indexOf(R)}:function(p,R){for(var L=0,W=p.length;W>L;L++)if(p[L]===R)return L;return-1};typeof define=="function"&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],r):f.Outlayer=r(f.eventie,f.docReady,f.EventEmitter,f.getSize,f.matchesSelector,f.Outlayer.Item)}(window),function(f){function l(_,v){var S=_.create("masonry");return S.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var r=this.cols;for(this.colYs=[];r--;)this.colYs.push(0);this.maxY=0},S.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var r=this.items[0],s=r&&r.element;this.columnWidth=s&&v(s).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},S.prototype.getContainerWidth=function(){var r=this.options.isFitWidth?this.element.parentNode:this.element,s=v(r);this.containerWidth=s&&s.innerWidth},S.prototype._getItemLayoutPosition=function(r){r.getSize();var s=r.size.outerWidth%this.columnWidth,h=s&&1>s?"round":"ceil",c=Math[h](r.size.outerWidth/this.columnWidth);c=Math.min(c,this.cols);for(var u=this._getColGroup(c),C=Math.min.apply(Math,u),z=E(u,C),A={x:this.columnWidth*z,y:C},p=C+r.size.outerHeight,R=this.cols+1-u.length,L=0;R>L;L++)this.colYs[z+L]=p;return A},S.prototype._getColGroup=function(r){if(2>r)return this.colYs;for(var s=[],h=this.cols+1-r,c=0;h>c;c++){var u=this.colYs.slice(c,c+r);s[c]=Math.max.apply(Math,u)}return s},S.prototype._manageStamp=function(r){var s=v(r),h=this._getElementOffset(r),c=this.options.isOriginLeft?h.left:h.right,u=c+s.outerWidth,C=Math.floor(c/this.columnWidth);C=Math.max(0,C);var z=Math.floor(u/this.columnWidth);z-=u%this.columnWidth?0:1,z=Math.min(this.cols-1,z);for(var A=(this.options.isOriginTop?h.top:h.bottom)+s.outerHeight,p=C;z>=p;p++)this.colYs[p]=Math.max(A,this.colYs[p])},S.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var r={height:this.maxY};return this.options.isFitWidth&&(r.width=this._getContainerFitWidth()),r},S.prototype._getContainerFitWidth=function(){for(var r=0,s=this.cols;--s&&this.colYs[s]===0;)r++;return(this.cols-r)*this.columnWidth-this.gutter},S.prototype.needsResizeLayout=function(){var r=this.containerWidth;return this.getContainerWidth(),r!==this.containerWidth},S}var E=Array.prototype.indexOf?function(_,v){return _.indexOf(v)}:function(_,v){for(var S=0,r=_.length;r>S;S++){var s=_[S];if(s===v)return S}return-1};typeof define=="function"&&define.amd?define(["outlayer/outlayer","get-size/get-size"],l):f.Masonry=l(f.Outlayer,f.getSize)}(window),jQuery(document).ready(function(f){f(window).smartresize(function(){if(f(".apply-isotope").length&&f(".apply-isotope").each(function(){f(this).isotope({itemSelector:".column",transformsEnabled:!1,masonry:{gutterWidth:25}})}),f(".portfolio-container").length){var l=(f(".portfolio-container").hasClass("no-space"),0);f(".portfolio-container").css({overflow:"hidden"}).isotope({itemSelector:".column",masonry:{gutterWidth:l}})}}),f(window).load(function(){if(f(".apply-isotope").length&&f(".apply-isotope").each(function(){f(this).isotope({itemSelector:".column",transformsEnabled:!1,masonry:{gutterWidth:25}})}),f(".portfolio-container").length){var l=(f(".portfolio-container").hasClass("no-space"),0);f(".portfolio-container").isotope({filter:"*",masonry:{gutterWidth:l},animationOptions:{duration:750,easing:"linear",queue:!1}})}f("div.sorting-container").length&&f("div.sorting-container a").click(function(){f("div.sorting-container a").removeClass("active-all");var E=(f(".portfolio-container").hasClass("no-space"),0),_=f(this).attr("data-filter");return f(this).addClass("active-all"),f(".portfolio-container").isotope({filter:_,masonry:{gutterWidth:E},animationOptions:{duration:750,easing:"linear",queue:!1}}),!1})})}),jQuery;
//# sourceMappingURL=/s/files/1/2721/6956/t/4/assets/latest-products.js.map?v=17983822311698397233
